{"openapi":"3.0.1","info":{"title":"EventBroker REST API","description":"The MQTT-like event broker","contact":{"email":"technicalguru@github.com"},"version":"1.0"},"paths":{"/consume":{"post":{"summary":"Consume event","description":"Consume a MQTT event for testing purposes","operationId":"consume","requestBody":{"content":{"*/*":{"schema":{"$ref":"#/components/schemas/EventData"}}}},"responses":{"default":{"description":"default response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RestResultEventData"}}}}}}},"/publish":{"post":{"summary":"Publish event","description":"Publish an MQTT event on a topic","operationId":"publish","requestBody":{"content":{"*/*":{"schema":{"$ref":"#/components/schemas/EventData"}}}},"responses":{"default":{"description":"default response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RestResultPublishResultData"}}}}}}},"/subscribe":{"post":{"summary":"Subscribe topic","description":"Subscribe to a topic","operationId":"subscribe","requestBody":{"content":{"*/*":{"schema":{"$ref":"#/components/schemas/SubscribeData"}}}},"responses":{"default":{"description":"default response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RestResultSubscribeResultData"}}}}}}},"/unsubscribe":{"post":{"summary":"Unsubscribe topic","description":"Unsubscribe from a topic","operationId":"unsubscribe","requestBody":{"content":{"*/*":{"schema":{"$ref":"#/components/schemas/UnsubscribeData"}}}},"responses":{"default":{"description":"default response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RestResultUnsubscribeResultData"}}}}}}},"/tokens":{"post":{"summary":"Create authorization token","description":"Publish an MQTT event on a topic","operationId":"create","requestBody":{"content":{"*/*":{"schema":{"$ref":"#/components/schemas/TokenData"}}}},"responses":{"default":{"description":"default response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RestResultTokenResultData"}}}}}}}},"components":{"schemas":{"EventData":{"type":"object","properties":{"packetId":{"type":"string"},"topicName":{"type":"string"},"qos":{"type":"integer","format":"int32"},"payload":{"type":"string"},"retainFlag":{"type":"boolean"},"dupFlag":{"type":"boolean"}}},"RestResultEventData":{"type":"object","properties":{"success":{"type":"boolean"},"errorMessage":{"type":"string"},"data":{"$ref":"#/components/schemas/EventData"}}},"PublishResultData":{"type":"object"},"RestResultPublishResultData":{"type":"object","properties":{"success":{"type":"boolean"},"errorMessage":{"type":"string"},"data":{"$ref":"#/components/schemas/PublishResultData"}}},"RestResultSubscribeResultData":{"type":"object","properties":{"success":{"type":"boolean"},"errorMessage":{"type":"string"},"data":{"$ref":"#/components/schemas/SubscribeResultData"}}},"SubscribeResultData":{"type":"object","properties":{"packetId":{"type":"string"},"returnCodes":{"type":"array","items":{"type":"integer","format":"int32"}}}},"SubscribeData":{"type":"object","properties":{"packetId":{"type":"string"},"topics":{"type":"array","items":{"type":"string"}},"callbackUrl":{"type":"string"},"authorization":{"type":"string"}}},"RestResultUnsubscribeResultData":{"type":"object","properties":{"success":{"type":"boolean"},"errorMessage":{"type":"string"},"data":{"$ref":"#/components/schemas/UnsubscribeResultData"}}},"UnsubscribeResultData":{"type":"object","properties":{"packetId":{"type":"string"}}},"UnsubscribeData":{"type":"object","properties":{"packetId":{"type":"string"},"topics":{"type":"array","items":{"type":"string"}},"callbackUrl":{"type":"string"}}},"RestResultTokenResultData":{"type":"object","properties":{"success":{"type":"boolean"},"errorMessage":{"type":"string"},"data":{"$ref":"#/components/schemas/TokenResultData"}}},"TokenResultData":{"type":"object"},"TokenData":{"type":"object"}}}}